<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			canvas{
				background: #272822;
				margin: 10px auto;
				display: block;
				position: relative;
			}
		</style>
	</head>
	<body>
		
	<!--canvas标签的尺寸不能用css来定义-->
	
	颜色：<input type="color" id="color" />
	粗细：<input type="range" id="range" min="1" max="20" value="3" /> <span id="r">3</span>
	<input type="button" id="xp" value="橡皮擦" />
	<canvas id="canvas" width="950" height="550"></canvas>
	
	<script type="text/javascript">
		
//		获得画板
		var canvas = document.getElementById("canvas");
//		获得绘画环境（相当于铺了一层画布）
		var cv = canvas.getContext('2d');
		cv.strokeStyle = 'yellow';
		cv.lineWidth = 3;
		
//		给canvas添加鼠标按下事件
		canvas.onmousedown = function(e){
			var ev = window.event || e;
//			获得鼠标的位置
			var mousex = ev.layerX || ev.offsetX;
			var mousey = ev.layerY || ev.offsetY;
			cv.beginPath();
//			设置起点
			cv.moveTo(mousex,mousey);
			canvas.onmousemove = function(e){
				var ev = window.event || e;
//				获得鼠标最新的位置
				var newx = ev.layerX || ev.offsetX;
				var newy = ev.layerY || ev.offsetY;
				cv.lineTo(newx,newy);
//				将路径绘制出来
				cv.stroke();
			}
		}
		
		
		canvas.onmouseup = function(){
//			取消掉鼠标移动事件
			canvas.onmousemove = null;
			cv.closePath();
		}
		
		
//		颜色
		document.getElementById("color").onchange = function(){
//			修改笔触颜色
			cv.strokeStyle = this.value;
		}
		
//		粗细
		document.getElementById("range").onchange = function(){
//			修改笔触粗细
			cv.lineWidth = this.value;
			document.getElementById("r").innerHTML = this.value;
		}
		
		
//		橡皮擦
		document.getElementById("xp").onclick = function(){
			cv.strokeStyle = '#272822';
		}
		
		
	</script>
		
	</body>
</html>
